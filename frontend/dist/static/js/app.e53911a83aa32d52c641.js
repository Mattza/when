webpackJsonp([1],{12:function(e,t,n){"use strict";var s=n(50),i=n.n(s),o=n(49),r=n.n(o),a=n(14),u=n(13),p=n(25);u.a.use(p.c);var d=new p.c.Store({state:{unhandledQuestions:[],wikiQuestions:[],ignoredQuestionIndexes:[],activeYear:"2016",highScore:0,playround:{}},getters:{activeWikiQuestion:function(e){return console.log("activeWikiQuestion",e.wikiQuestions.length,e.ignoredQuestionIndexes.length),e.wikiQuestions.filter(function(t,n){return!e.ignoredQuestionIndexes.includes(n)})||[]}},mutations:{setWikiQuestions:function(e,t){e.wikiQuestions=t},setIgnoredWikiQuestion:function(e,t){e.ignoredQuestionIndexes=t},setActiveYear:function(e,t){e.activeYear=t},addIgnoredWikiQuestion:function(e,t){console.log(t)},initPlayround:function(e,t){for(var n=[];t.length;){var s=Math.floor(Math.random()*t.length);n.push(t.splice(s,1)[0])}var i=n.splice(0,1);e.playround={shuffledQuestions:n,answeredQuestions:i,active:!0,failed:!1}},guessPlayround:function(e,t){e.playround.answeredQuestions.splice(t,0,e.playround.shuffledQuestions[0]);var n=!0,s=void 0;e.playround.answeredQuestions.forEach(function(e){s>e.year&&(n=!1),s=e.year}),n?e.playround.shuffledQuestions.splice(0,1):(e.playround.failed=!0,e.highScore=Math.max(e.highScore,e.playround.answeredQuestions.length-1))}},actions:{getWikiQuestions:function(e,t){var n=this,s=e.commit,o=e.state;return r()(i.a.mark(function e(){var r,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s("setActiveYear",t),e.next=3,fetch("/api/wiki/"+o.activeYear);case 3:return e.next=5,e.sent.json();case 5:return r=e.sent.data,console.log(r),e.next=9,fetch("/api/ignoredWiki/year="+o.activeYear);case 9:return e.next=11,e.sent.json();case 11:u=e.sent,s(a.a.mutations.setIgnoredWikiQuestion,u.map(function(e){return e.number})),s(a.a.mutations.setWikiQuestions,r);case 14:case"end":return e.stop()}},e,n)}))()},addIgnoredWikiQuestion:function(e,t){var n=this,s=e.commit,o=e.state;return r()(i.a.mark(function e(){var r,u;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.wikiQuestions.indexOf(t),e.next=3,fetch("/api/ignoredWiki",{method:"post",body:{number:r,year:o.activeYear}});case 3:return e.next=5,e.sent.json();case 5:u=e.sent,s(a.a.mutations.addIgnoredWikiQuestion,u);case 7:case"end":return e.stop()}},e,n)}))()},getIgnoredWikiQuestion:function(e,t){var n=this,s=e.commit;e.state;return r()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=s,e.t1=a.a.mutations.setIgnoredWikiQuestion,e.next=4,fetch("/api/ignoredWiki");case 4:return e.next=6,e.sent.json();case 6:e.t2=e.sent,(0,e.t0)(e.t1,e.t2);case 8:case"end":return e.stop()}},e,n)}))()},getPlayround:function(e,t){var n=this,s=e.commit;e.state;return r()(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/question");case 2:return e.next=4,e.sent.json();case 4:t=e.sent,s("initPlayround",t);case 6:case"end":return e.stop()}},e,n)}))()}}});t.a=d},14:function(e,t,n){"use strict";t.a={mutations:{setWikiQuestions:"setWikiQuestions",setIgnoredWikiQuestion:"setIgnoredWikiQuestion",addIgnoredWikiQuestion:"addIgnoredWikiQuestion"},actions:{getWikiQuestions:"getWikiQuestions",addIgnoredWikiQuestion:"addIgnoredWikiQuestion",getIgnoredWikiQuestion:"getIgnoredWikiQuestion"}}},41:function(e,t,n){"use strict";var s=n(13),i=n(96),o=n(91),r=n.n(o),a=n(92),u=n.n(a);s.a.use(i.a),t.a=new i.a({routes:[{path:"/",name:"Play",component:u.a},{path:"/admin",name:"Hello",component:r.a}]})},42:function(e,t,n){function s(e){n(86)}var i=n(24)(n(44),n(93),s,null,null);e.exports=i.exports},43:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(13),i=n(12),o=n(42),r=n.n(o),a=n(41);s.a.config.productionTip=!1,new s.a({el:"#app",store:i.a,router:a.a,render:function(e){return e(r.a)}})},44:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app"}},45:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(27),i=n.n(s),o=n(12),r=n(14),a=n(25);t.default={name:"hello",data:function(){return{year:"2016"}},computed:i()({},n.i(a.a)([]),n.i(a.b)(["activeWikiQuestion"])),methods:{getUnhandledQuestions:function(){o.a.dispatch(r.a.actions.getUnhandledQuestions)},getWikiQuestions:function(){o.a.dispatch(r.a.actions.getWikiQuestions,this.year)},ignoreWikiQuestion:function(e){o.a.dispatch("addIgnoredWikiQuestion",e)}}}},46:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(27),i=n.n(s),o=n(12),r=n(14),a=n(25);t.default={name:"play",data:function(){return{year:"2016"}},computed:i()({},n.i(a.a)(["playround","highScore"]),n.i(a.b)(["activeWikiQuestion"])),methods:{getUnhandledQuestions:function(){o.a.dispatch(r.a.actions.getUnhandledQuestions)},getWikiQuestions:function(){o.a.dispatch(r.a.actions.getWikiQuestions,this.year)},ignoreWikiQuestion:function(e){o.a.dispatch("addIgnoredWikiQuestion",e)},click:function(e){o.a.commit("guessPlayround",e)},startNewRound:function(){o.a.dispatch("getPlayround")}},beforeMount:function(){o.a.playround&&o.a.playround.active||this.startNewRound()}}},86:function(e,t){},87:function(e,t){},88:function(e,t){},91:function(e,t,n){function s(e){n(88)}var i=n(24)(n(45),n(95),s,"data-v-d1a58bfa",null);e.exports=i.exports},92:function(e,t,n){function s(e){n(87)}var i=n(24)(n(46),n(94),s,"data-v-7ac08513",null);e.exports=i.exports},93:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},staticRenderFns:[]}},94:function(e,t){throw new Error("Module build failed: SyntaxError: Unexpected token (28:58)\n    at Parser.pp$4.raise (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:2231:15)\n    at Parser.pp.unexpected (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:613:10)\n    at Parser.pp.expect (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:607:28)\n    at Parser.pp$3.parseExprList (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:2162:16)\n    at Parser.pp$3.parseSubscripts (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:1751:35)\n    at Parser.pp$3.parseExprSubscripts (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:1728:17)\n    at Parser.pp$3.parseMaybeUnary (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:1702:19)\n    at Parser.pp$3.parseExprOps (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:1647:21)\n    at Parser.pp$3.parseMaybeConditional (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:1630:21)\n    at Parser.pp$3.parseMaybeAssign (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:1607:21)\n    at Parser.pp$3.parseExprList (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:2175:22)\n    at Parser.pp$3.parseSubscripts (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:1751:35)\n    at Parser.pp$3.parseExprSubscripts (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:1728:17)\n    at Parser.pp$3.parseMaybeUnary (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:1702:19)\n    at Parser.pp$3.parseExprOps (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:1647:21)\n    at Parser.pp$3.parseMaybeConditional (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:1630:21)\n    at Parser.pp$3.parseMaybeAssign (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:1607:21)\n    at Parser.pp$3.parseExprList (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:2175:22)\n    at Parser.pp$3.parseExprAtom (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:1811:28)\n    at Parser.parseExprAtom (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:3800:24)\n    at Parser.pp$3.parseExprSubscripts (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:1725:21)\n    at Parser.pp$3.parseMaybeUnary (C:\\Users\\matknu\\Desktop\\GitHub\\when\\frontend\\node_modules\\vue-template-es2015-compiler\\buble.js:1702:19)")},95:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"hello"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.year,expression:"year"}],domProps:{value:e.year},on:{input:function(t){t.target.composing||(e.year=t.target.value)}}}),e._v(" "),n("button",{on:{click:e.getWikiQuestions}},[e._v("Click")]),e._v(" "),e._l(e.activeWikiQuestion,function(t){return n("div",{key:t,staticClass:"questionList"},[e._v("\n    "+e._s(t)+"\n    "),n("button",{on:{click:function(n){e.ignoreWikiQuestion(t)}}},[e._v("Ta bort")])])}),e._v("\n  "+e._s(e.activeWikiQuestion)+"\n")],2)},staticRenderFns:[]}}},[43]);
//# sourceMappingURL=app.e53911a83aa32d52c641.js.map